# Workflows_showcase
## Comic Book Character Alignment Predictor
This is Group 25's project for DSCI 522(Data Science Workflows); which is a course in the MDS(Master of Data Science) program at the University of British Columbia.

### Authors

- Aidan Mattrick
- Craig McLaughlin
- Zeliha Ural Merpez
- Ivy Zhang

### Overview

For this project, we will be using data containing [Comic Book Characters](https://github.com/rudeboybert/fivethirtyeight/tree/master/data-raw/comic-characters). The data comes from [Marvel Wikia](https://marvel.fandom.com/wiki/Marvel_Database) and [DC Wikia](https://dc.fandom.com/wiki/DC_Comics_Database). We are interested in the following question:

> 1. Predictive Question: What are the most important features in determining a comic book characters' alignment? 
> 2. Exploratory Question: How are they changing over time?

Alignment target is categorized into three classes from our data set:
- good 
- bad
- neutral

To answer the first predictive question, random forest and decision tree  are two appropriate models because majority of the variables are categorical, and they also contain missing values to some extent. Some important features to answer this question can be `ID`(this is a categorical variable), `EYE`, `HAIR`, `SEX`, `APPEARANCES`, `publisher` and `year`. 

The plan for answering the second question is to start from scatter-plotting each key variables from analysis above against year to visualize any trend. Regressions are good methodoligies to interpret the relationship between each variable and `year`. Autocorrelation may be a good factor to look into but as the topic has yet been studied we will temporarily move it to the limitation section for future development.


### Data

The data is split into two files, for DC and Marvel, respectively: dc-wikia-data.csv and marvel-wikia-data.csv. Each file has the following variables:

`page_id, name, urlslug, ID, ALIGN, EYE, HAIR, SEX, GSM, ALIVE, APPEARANCES, FIRST APPEARANCE, YEAR`

![Project Overview](img/project_overview_00.png)


For a detailed summary regarding our source data, please read [eda_profile_report.html](https://github.com/UBC-MDS/Workflows_showcase/blob/main/report/eda_profile_report.html). For a more visual overview of the dataset, charts have been built using Altair package, which can be obtained by running `eda.py`.


We have done explanatory analysis on the combined data frame named `clean_characters.csv`. The overview tables for dataset and features are obtained by `eda.py`. For a detailed summary regarding our source data, please read [eda_profile_report.html](https://github.com/UBC-MDS/Workflows_showcase/blob/main/report/eda_profile_report.html). For a more visual overview of the dataset, charts have been built using Altair package, which can be obtained by running `eda.py`. The visual overview can also be found in [img](https://github.com/UBC-MDS/Workflows_showcase/tree/main/img) directory, or generated by the command lines given below. The written report can be found here [jupyter file](https://github.com/UBC-MDS/Workflows_showcase/blob/main/report/eda.ipynb).

### Report
The final report can be found [here].

### Releases

[Milestone 1: 0.0.1](https://github.com/UBC-MDS/Workflows_showcase/releases/tag/0.0.1)

[Milestone 2: 0.1.0]

### Usage and Flowchart

The datasets can be collected from the source below.
`
python src/get_datasets.py -i https://github.com/rudeboybert/fivethirtyeight/tree/master/data-raw/comic-characters -o data/raw -g -v
`

The row datasets can be processed by using the following command:
`
python src/preprocess_data.py -i data/raw -o data/processed/clean_characters.csv -v
`

The eda.py image generator can be processed by using the following command:
`
python src/eda.py -i "data/processed/clean_characters.csv" -o "img"
`

![Flow Chart](img/flow_chart00.png)

### Dependencies

To reproduce, please see dependencies in [environment file](https://github.com/UBC-MDS/Workflows_showcase/blob/main/env/env.yaml).

### References

1. [Comic Book Characters](https://github.com/rudeboybert/fivethirtyeight/tree/master/data-raw/comic-characters) 

2. [Sample Group Project](https://github.com/ttimbers/breast_cancer_predictor)

2. [Render Table Sample](https://stackoverflow.com/questions/19726663/how-to-save-the-pandas-dataframe-series-data-as-a-figure)

```python

```
